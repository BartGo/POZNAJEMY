POZNAJEMY FORTH
===============

Ta dyskietka zawiera źródła programów w Forth z książki "Poznajemy Forth" Jana Ruszczyca, przetestowane przy użyciu wersji języka "APX Extended fig-Forth Rev. 2".

Na drugiej stronie (zabezpieczonej przed zapisem) znajduje się kopia bezpieczeństwa. Dobrym pomysłem jest wykonanie jeszcze jednej kopii. Trzeba do tego wykorzystać właściwy kopier sektorowy - prawidłowo działa DISKCOPY i sprzętowa modyfikacja "QMEG 4.0.4". Większość innych kopierów nie zadziała - format dyskietek Forth nie jest zgodny z Atari DOS!
 
Oprócz źródeł z książki, załączono kilka aplikacji, opublikowanych w latach 80-tych i 90-tych. Są to m. in.:
- podzbiór "firmowego" edytora Forth z drobnymi usprawnieniami, jak np. zmiana koloru ramki po poleceniu HEX
- narzędzie SEARCH do wyszukiwania ciągów znaków na dyskietce - może służyć do szukania dowolnego tekstu (definicji słów, komentarzy...)
- polecenie .CC, wyświetlające aktualny słownik CONTEXT i CURRENT 
- rekurencyjny dekompilator (alternatywa dla podstawowego DECOMP) 
- Forth-Edytor autorstwa Rolanda Pantoły (wraz z wymaganym "Ragsdale Assembler")
- EDIT autorstwa Mike'a Dougherty - uwaga, w obecnej wersji program potrzebuje odbezpieczonej dyskietki, nie zawsze też zapisuje kod zmieniony na "shadow screen"
- przykład prawidłowego użycia FENCE i FORGET (niestety, chochlik drukarski we wszystkich wydaniach książki zjada apostrof i spację w rozdziale 7.3, przed "XXX FENCE !")
- przykład użycia wstawki asemblerowej (powoduje miganie kursora; wymaga asemblera z "fabrycznej" dyskietki Forth, ekran 39)
- przykład użycia techniki "vectored execution", użytecznej do przekazywania parametrów lub zmiany funkcjonalności słowa w trakcie wykonywania programu

Początkowe ekrany są puste - jest to celowe, można tam zapisać (poleceniem SAVE) jądro Forth - również nieco rozszerzone, np. o słowa debuggera i "ulubiony" edytor. 

Ekrany 16 i 17 są "spisem treści", wywołanie 16 LIST oraz 17 LIST pozwoli na dokładne zapoznanie się z zawartością dyskietki. Spis ten zawiera:
* numer pierwszego ekranu z programem, np. #18 - kod załadujemy wykonując LOAD, np. 18 LOAD
* opis zawartości grupy ekranów - często są to po prostu słowa, opisane w książce, np. "KOT, NAPIS, KWADRATY"
* ilość ekranów - pozwala ocenić wielkość kodu (a więc również czas kompilacji), np. [1] oznacza że cały kod przykładu lub programu zajmuje tylko jeden ekran
* pochodzenie kodu wraz z ewentualnym numerem czasopisma lub rozdziału ("pF" to "Poznajemy Forth", "apx" to "fabryczna" dyskietka Forth, "ta" to "Tajemnice Atari", "fd" to "Forth Dimension", "comp!" to "Compute!", micro to "Micro")
* informację o wymaganym kodzie ("prerequisites"), np:
	- DEBUG - słowa debuggera z "fabrycznego" FORTH, od ekranu 21 (21 LOAD)
	- asmPM - słowa asemblera z "fabrycznego" FORTH (Mullarky), od ekranu 39 (39 LOAD)
	- asmWR - słowa asemblera z "fabrycznego" FORTH (Ragsdale), od ekranu 75 (75 LOAD); ten sam kod zamieszczono również na TEJ dyskietce, od ekranu 70 (70 LOAD)

Numery ekranów mogą być inne niż te, opisane w książce.

Część programów uruchamia się automatycznie po załadowaniu (np. TABLICZKA, ERATOS, HANOI), inne wymagają wywołania - zgodnie z informacjami, zawartymi w książce oraz w załączonym kodzie. Bardzo często na dyskietce umieszczone są przykłady wywołania oraz dodatkowe komentarze, warto więc "eksplorować" ekrany z kodem przy pomocy LIST lub któregoś edytora.

Jeśli zajdzie taka potrzeba, nowe wersje tej dyskietki i/lub dodatkowe informacje będą umieszczane w repozytorium
https://github.com/BartGo/POZNAJEMY - obraz TEJ dyskietki to "PoznajemyFORTH (E6B43BB4-399559F-F62A4B40).ATR". Repozytorium zawiera również skrypty, użyte do generowania dyskietki - kod można wykorzystać w emulatorze lub przenieść do własnego programu.

Niezbędny do skorzystania z TEJ dyskietki jest oczywiście sam Forth. Najbardziej oficjalnym źródłem jest https://www.atariarchives.org/APX/showinfo.php?cat=20029 - można ściągnąć plik DCM (ATR jest uszkodzony!), skonwertować do poprawnego ATR i przenieść na Atari... Uff!!

Szybszym rozwiązaniem będzie jednak ściągnięcie już poprawionego ATR z jednej z poniższych lokalizacji:
- atari wiki -> https://atariwiki.org -> Forth -> Extended Atari FIG-Forth APX20029 -> Disks
- atari online -> Użytki/Utils -> 4. Programowanie -> "Extended fig-FORTH 2.0 (v2).atr"
- fujinet -> apps.irata.online -> Atari_8-bit -> Languages -> FORTH -> APX Extended fig-FORTH -> "APX Extended Fig Forth.atr"

Poprawny plik z Extended Fig-Forth będzie miał CRC-32 F64B50DA lub E6B43BB4. Wgrywamy go na kartę SD lub w inny sposób "przekazujemy do Atari" przez SIO2SD, SIO2USB, SDRIVE Micro, Fujinet...

Kiedy Forth się uruchomi z D1: a źródła mamy w stacji ustawionej jako D2:, możemy przełączać się między nimi przy pomocy poleceń DR0 (dla D1:) i DR1 (dla D2:). Niezłym pomysłem jest też skopiowanie (sektorowe!) Extended Fig-Forth na fizyczną dyskietkę oraz uzupełnienie dyskietki ze źródłami o jądro Forth (uwaga - polecenie SAVE działa tylko dla dyskietki D1:).

Z poważaniem,
- Bartosz Gołda
- Retronics
